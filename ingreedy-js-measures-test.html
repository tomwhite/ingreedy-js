<script src="tinytest.js"></script>
<script src="ingreedy-js-measures.js"></script>
<script>

  function arrayEq(expected, actual) {
    eq(expected.length, actual.length);
    for (var i = 0; i < expected.length; i++) {
      eq(expected[i], actual[i]);
    }
  }

 tests({

   'normalizeQuantity': function() {
     eq(1, normalizeQuantity("1"));
     eq(1.5, normalizeQuantity("1 1/2"));
     eq(5.5, normalizeQuantity("11/2"));
     eq(true, isNaN(normalizeQuantity("1blah")));
   },

   'calculateMass': function() {
     eq(2, calculateMass("2", "gram", "onion"));
     eq(56.6, calculateMass("2", "ounce", "onion"));
     eq(908, calculateMass("2", "pound", "onion"));
     eq(true, isNaN(calculateMass("2", "hundredweight", "onion")));
     eq(350, calculateMass("2", null, "apple"));
     eq(350, calculateMass("2", "", "apple"));
     eq(true, isNaN(calculateMass("2", null, "rabbit")));
     eq(true, isNaN(calculateMass("2", "", "rabbit")));
     eq(true, isNaN(calculateMass("", "", "salt")));
     eq(true, isNaN(calculateMass("2blah", "blah", "onion")));
   },

 });
</script>